{
	"name": "Module to pre-populate an instrument with data from a previous event",

	"namespace": "HIH\\LoadLastVisitData",

	"authors": [
		{
			"name": "Christian Erhardt",
			"email": "christian.erhardt@uni-tuebingen.de",
			"institution": "Hertie Institute for Clinical Brain Research, University Hospital Tuebingen"
		}
	],

	"permissions": [
		"hook_data_entry_form_top",
		"select_data",
		"update_data"
	],

	"description": "This module pre-populates one or more instruments in a longitudinal project with data from a previous event. It shows a message above the instrument that the user should review the old data and change it when necessary.",

	"project-settings": [
		{
			"key": "visit_date",
			"name": "Field that contains visit date (with date validation type)",
			"required": true,
			"type": "field-list"
		},
		{
			"key": "forms",
			"name": "Instruments to be pre-populated",
			"required": true,
			"repeatable": true,
			"type": "form-list"
		},
		{
			"key": "excluded_fields",
			"name": "Fields to be excluded",
			"required": false,
			"repeatable": true,
			"type": "field-list"
		},
		{
			"key": "load_status",
			"name": "Load previous data only if intrument matches these states",
			"required": true,
			"repeatable": true,
			"type": "dropdown",
			"choices": [
				{ "value": "0", "name": "Incomplete" },
				{ "value": "1", "name": "Unverified" },
				{ "value": "2", "name": "Complete" }
			]
		},
		{
			"key": "save_status",
			"name": "State for pre-populated instrument",
			"required": true,
			"type": "dropdown",
			"choices": [
				{ "value": "0", "name": "Incomplete" },
				{ "value": "1", "name": "Unverified" },
				{ "value": "2", "name": "Complete" }
			]
		},
		{
			"key": "show_message",
			"name": "Message above pre-populated instrument",
			"required": true,
			"type": "text"
		}
	]
}
